<div class="container">
    <!-- The Content Heading -->
    <% if (title) { %>
        <h1><%= title %></h1>
    <% } else {
      res.redirect('/')
    } %>
  
    <%- messages() %>
    <% if (errors) { %>
        <ul class="notice">
       <% errors.array().forEach(error => { %>
         <li><%= error.msg %></li>
      <%  }) %>
       </ul>
    <% } %>
  
    <!-- The Register View -->
    <div class="form-container">
      <form class="form" id="registerForm" method="post">
        <div class="form-content">
          <p class="fields-req">*** All fields are required. ***</p>
          <div class="form-fields">
            <label for="account_firstname"><b>First name:</b></label>
            <input type="text" id="account_firstname" name="account_firstname" placeholder="First name" autofocus required value="<%= locals.account_firstname %>">
            <label for="account_lastname"><b>Last name:</b></label>
            <input type="text" id="account_lastname" name="account_lastname" placeholder="Last name" required value="<%= locals.account_lastname %>">
            <label for="account_email"><b>Email Address:</b></label>
            <input type="email" id="account_email" name="account_email" placeholder="youremail@email.com" required value="<%= locals.account_email %>">
            <label for="account_password"><b>Password:</b></label>
            <input type="password" id="account_password" name="account_password" placeholder="Enter your password" pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{12,}$" required>
            <button type="button" class="show-pwd-btn" id="togglePassword">Show Password</button>
            <p class="pwd-text">(Passwords must be at least 12 characters and include one uppercase letter, one lowercase letter, one number, and one non-alphanumeric character.)</p>
            <button class="submit-btn" type="submit" name="register">Register</button>
          </div>
        </div>
      </form>
    </div>
  </div>
  
  <script>
    document.getElementById('togglePassword').addEventListener('click', function () {
      const pwdInput = document.getElementById('account_password');
      if (pwdInput.type === 'password') {
          pwdInput.type = 'text';
          this.textContent = 'Hide Password';
      } else {
          pwdInput.type = 'password';
          this.textContent = 'Show Password';
      }
    });
  </script>
  